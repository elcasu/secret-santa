generator client {
  provider = "prisma-client-js"
}

datasource db {
  // provider = "sqlite"
  provider = "postgresql"
  url = env("DATABASE_URL")
}

model Draw {
  id Int @id @default(autoincrement())
  slug String @unique
  name String
  createdAt DateTime @default(now())
  participants Participant[]
}

model Participant {
  id Int @id @default(autoincrement())
  name String
  email String? // optional, not used for public links, but can be helpful later
  assignedTo Int? // id of Participant that this person will give to
  chosenBy Int? // id of Participant that chose this person
  drawId Int
  draw Draw @relation(fields: [drawId], references: [id])
  uuid String

  @@index([drawId])
}